<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="layout.css">
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
    <script>

      $(document).ready(function(){
        var $body = $('body');
        // $body.html('');
// generate random tweets on open.
        var index = streams.home.length - 1;
        while(index >= 0){
          var $wrapper =$('<div class="container"></div>')
          var tweet = streams.home[index];
            var time = streams.home[index];
            var $time = $('<span class="time" id ="time"' +index + '></span>');
          var $tweet = $('<div class="tweet" id ="tweet"' +index + '></div>');

              $tweet.text('@' + tweet.user + ': ' + tweet.message);
              $tweet.appendTo($body);
              $time.text(tweet.created_at);
              $time.appendTo($tweet);
              $(".tweet").appendTo(".container")
              $("#" + index).appendTo("#feed" + index);

          index -= 1;

        }

        var $button = $("<input class='btnRef' type=button value='Check New Tweet'>");
        $button.appendTo($body);
        $button.on('click', function () {
          generateRandomTweet();
          var index1 = 100;
          index1 = index1 +1;
          var newTweet = streams.home.pop();

            var newTweet = streams.home[index];
            var newTime = streams.home[index];
            var $newTime = $('<span class="nTime" id ="time"' +index1 + '></span>');
             var $newTweet = $('<div class="nTweet" id ="tweet"' +index1 + '></div>');

              $newTweet.text('@' + tweet.user + ': ' + tweet.message);
              $newTweet.appendTo($body);
              $newTime.text(tweet.created_at);
              $newTime.appendTo($tweet);
              // $(".nTweet").appendTo(".container")
              $("#" + index).appendTo("#feed" + index1);
          index1++;;
       })

      });

    </script>
  </body>
</html>
